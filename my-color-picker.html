<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="height=device-height, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
<script type="text/javascript" src="./src/js/ColorPicker.js"></script>
  <title>颜色选择器</title>
  <style media="screen">
    * {
      padding: 0;
      margin: 0;
    }
    .color_picker_panel {

        position: relative;
    }
  .color_picker_panel .saturation {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }

  .color_picker_panel .value {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }

  .preview {
    float: left;
    margin-left: 10px;
    margin-top: 10px;
  }
  </style>
</head>

<body>
  <div class="">
    <div class="color_picker_panel" id="color_picker_panel" style="background: rgb(255, 0, 0);">
      <div class="saturation" style="background: linear-gradient(to right,white , #ffffff00,   );"></div>
      <div class="value" style="background: linear-gradient(to top, black, #ffffff00);"></div>
    </div>
    <div class="colors" id="color_picker_colors"> </div>
    <div class="alpha" id="color_picker_alpha" background="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVRIiWM8fubkfwYygKWJOSM5+mCAhRLNoxaPWjxq8ajFoxbTyeL/DAfJ0Xjs3Cl7Siwmu4Yht1aDgZEYx6MWj1o8avGoxaMWD3qLya5X//4nqx6HAQC7RBGFzolqTAAAAABJRU5ErkJggg==)">
<div class="" style="background: rgba(0, 0, 0, 0) linear-gradient(to left, rgb(37, 207, 31), rgba(255, 255, 255, 0)) repeat scroll 0% 0%;">

</div>
    </div>

    <div id="preview" class="preview"></div>

  </div>
  <script type="text/javascript">
    (function() {
      var cur_r
      var cur_g
      var cur_b
      var cur_alpha

      var curColor = 'rgba(255,0,0,1)';

      var colorPickerInstance

      const size = {
        small: {
          colors: {
            width: 12,
            height: 120
          },
          panel: {
            width: 120,
            height: 120,
          },
          alpha: {
            width: 120,
            height: 12,
          },
          preview: {
            width: 12,
            height: 12,
          }
        },
        middle: {
          colors: {
            width: 16,
            height: 160
          },
          panel: {
            width: 160,
            height: 160,
          },
          alpha: {
            width: 160,
            height: 16,
          },
          preview: {
            width: 16,
            height: 16,
          }
        },
        large: {
          colors: {
            width: 20,
            height: 200
          },
          panel: {
            width: 200,
            height: 200,
          },
          alpha: {
            width: 200,
            height: 20,
          },
          preview: {
            width: 20,
            height: 20,
          }
        }
      }

      let color_picker_size = 'small'; // small, middle, or large
      const color_picker_colors = document.getElementById("color_picker_colors")
      const color_picker_panel = document.getElementById("color_picker_panel")
      const color_picker_alpha = document.getElementById("color_picker_alpha")
      const preview = document.getElementById("preview")

      init()

      function initCanvasSize(sizeType) {
        color_picker_colors.style.width = size[sizeType].colors.width + 'px'
        color_picker_colors.style.height = size[sizeType].colors.height + 'px'

        color_picker_panel.style.width = size[sizeType].panel.width + 'px'
        color_picker_panel.style.height = size[sizeType].panel.height + 'px'

        color_picker_alpha.style.width = size[sizeType].alpha.width + 'px'
        color_picker_alpha.style.height = size[sizeType].alpha.height + 'px'

        preview.style.width = size[sizeType].preview.width + 'px'
        preview.style.height = size[sizeType].preview.height + 'px'
      }

      function updatePreview() {

      }

      function init() {
        // colorPickerInstance = new ColorPicker()
        initCanvasSize(color_picker_size)

      }

    })()
  </script>
</body>

</html>
